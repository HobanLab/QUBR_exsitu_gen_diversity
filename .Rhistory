rename(Monitor1 = '13/02/2022 - Monitoreo 1')%>%
rename(Monitor2 = '20/01/2023 Monitoreo 2')%>%
rename(Monitor3 = '13/12/2023\nMonitoreo 3')%>%
rename(OriginReg = 'Procedencia semilla  (color)')%>%
rename(PlantedReg = 'Región')%>%
rename(DatePlanted = 'Fecha transplante')%>%
rename(YearCollected = 'Año de colecta')%>%
rename(Observations = 'Observaciones')%>%
rename(Contact = 'Contacto')%>%
rename(PlantedIn = 'Sembrado en:')%>%
rename(Watered = 'Lluvia solida')%>%
rename(Monitor4 = 'Monitoreo 1 (__/__/__)')%>%
rename(OriginLabelAsh = 'Procedencia Etiqueta Ash Abril 2024')%>%
mutate(Monitor1=recode(Monitor1, 'Perdida' = 'Muerta'))%>%#reclass Perdida (poor) as Muerta (dead)
#calculate when a seedling died based on the last Monitoring date it was seen alive
add_column(DateDied = NA)%>%
mutate(DateDied = case_when(Monitor1 == 'Muerta' ~ DatePlanted,
Monitor2 == 'Muerta' ~ '13/02/2022',
Monitor3 == 'Muerta' ~ '20/01/2022'))%>%
add_column(Outcome = NA)%>%
#format date as DayMonthYear
add_column(TimeAlive = NA)%>%
add_column(RatioTimeAlive = NA)%>%
add_column(PotentialTimeAlive = NA)%>%
mutate(DateDied = dmy(DateDied))%>%
mutate(DatePlanted = dmy(DatePlanted))%>%
mutate(RatioTimeAlive = dmy(RatioTimeAlive))%>%
mutate(PotentialTimeAlive = dmy(PotentialTimeAlive))%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta') ~ 'Dead'))%>%
#calculate TimeAlive as difference between DatePlanted and DateDied
mutate(TimeAlive = DateDied - DatePlanted)%>%
mutate(PotentialTimeAlive = Today - DatePlanted)%>% #days since it was first planted
mutate(TimeAlive = case_when(Outcome == 'Alive' ~ (Today - DatePlanted),
TRUE ~ (DateDied - DatePlanted)))
#renames columns to simplified English, differentiates seed origin and seedling planted region
seedlings_clean <- seedlings_combined%>%
rename(Name = 'Nombre')%>%
rename(Town = 'Localidad')%>%
rename(Ranch = 'Rancho, Lugar o Sitio')%>%
rename(Monitor1 = '13/02/2022 - Monitoreo 1')%>%
rename(Monitor2 = '20/01/2023 Monitoreo 2')%>%
rename(Monitor3 = '13/12/2023\nMonitoreo 3')%>%
rename(OriginReg = 'Procedencia semilla  (color)')%>%
rename(PlantedReg = 'Región')%>%
rename(DatePlanted = 'Fecha transplante')%>%
rename(YearCollected = 'Año de colecta')%>%
rename(Observations = 'Observaciones')%>%
rename(Contact = 'Contacto')%>%
rename(PlantedIn = 'Sembrado en:')%>%
rename(Watered = 'Lluvia solida')%>%
rename(Monitor4 = 'Monitoreo 1 (__/__/__)')%>%
rename(OriginLabelAsh = 'Procedencia Etiqueta Ash Abril 2024')%>%
mutate(Monitor1=recode(Monitor1, 'Perdida' = 'Muerta'))%>%#reclass Perdida (poor) as Muerta (dead)
#calculate when a seedling died based on the last Monitoring date it was seen alive
add_column(DateDied = NA)%>%
mutate(DateDied = case_when(Monitor1 == 'Muerta' ~ DatePlanted,
Monitor2 == 'Muerta' ~ '13/02/2022',
Monitor3 == 'Muerta' ~ '20/01/2022'))%>%
add_column(Outcome = NA)%>%
#format date as DayMonthYear
add_column(TimeAlive = NA)%>%
add_column(RatioTimeAlive = NA)%>%
add_column(PotentialTimeAlive = NA)%>%
mutate(DateDied = dmy(DateDied))%>%
mutate(DatePlanted = dmy(DatePlanted))%>%
mutate(RatioTimeAlive = dmy(RatioTimeAlive))%>%
mutate(PotentialTimeAlive = dmy(PotentialTimeAlive))%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta') ~ 'Dead',
Monitor1 == 'Viva' & Monitor2 == 'NA' ~ 'Dead'))%>%
#calculate TimeAlive as difference between DatePlanted and DateDied
mutate(TimeAlive = DateDied - DatePlanted)%>%
mutate(PotentialTimeAlive = Today - DatePlanted)%>% #days since it was first planted
mutate(TimeAlive = case_when(Outcome == 'Alive' ~ (Today - DatePlanted),
TRUE ~ (DateDied - DatePlanted)))
#renames columns to simplified English, differentiates seed origin and seedling planted region
seedlings_clean <- seedlings_combined%>%
rename(Name = 'Nombre')%>%
rename(Town = 'Localidad')%>%
rename(Ranch = 'Rancho, Lugar o Sitio')%>%
rename(Monitor1 = '13/02/2022 - Monitoreo 1')%>%
rename(Monitor2 = '20/01/2023 Monitoreo 2')%>%
rename(Monitor3 = '13/12/2023\nMonitoreo 3')%>%
rename(OriginReg = 'Procedencia semilla  (color)')%>%
rename(PlantedReg = 'Región')%>%
rename(DatePlanted = 'Fecha transplante')%>%
rename(YearCollected = 'Año de colecta')%>%
rename(Observations = 'Observaciones')%>%
rename(Contact = 'Contacto')%>%
rename(PlantedIn = 'Sembrado en:')%>%
rename(Watered = 'Lluvia solida')%>%
rename(Monitor4 = 'Monitoreo 1 (__/__/__)')%>%
rename(OriginLabelAsh = 'Procedencia Etiqueta Ash Abril 2024')%>%
mutate(Monitor1=recode(Monitor1, 'Perdida' = 'Muerta'))%>%#reclass Perdida (poor) as Muerta (dead)
#calculate when a seedling died based on the last Monitoring date it was seen alive
add_column(DateDied = NA)%>%
mutate(DateDied = case_when(Monitor1 == 'Muerta' ~ DatePlanted,
Monitor2 == 'Muerta' ~ '13/02/2022',
Monitor3 == 'Muerta' ~ '20/01/2022'))%>%
add_column(Outcome = NA)%>%
#format date as DayMonthYear
add_column(TimeAlive = NA)%>%
add_column(RatioTimeAlive = NA)%>%
add_column(PotentialTimeAlive = NA)%>%
mutate(DateDied = dmy(DateDied))%>%
mutate(DatePlanted = dmy(DatePlanted))%>%
mutate(RatioTimeAlive = dmy(RatioTimeAlive))%>%
mutate(PotentialTimeAlive = dmy(PotentialTimeAlive))%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta') ~ 'Dead',
Monitor1 == 'Viva' & Monitor2 == NA ~ 'Dead'))%>%
#calculate TimeAlive as difference between DatePlanted and DateDied
mutate(TimeAlive = DateDied - DatePlanted)%>%
mutate(PotentialTimeAlive = Today - DatePlanted)%>% #days since it was first planted
mutate(TimeAlive = case_when(Outcome == 'Alive' ~ (Today - DatePlanted),
TRUE ~ (DateDied - DatePlanted)))
#renames columns to simplified English, differentiates seed origin and seedling planted region
seedlings_clean <- seedlings_combined%>%
rename(Name = 'Nombre')%>%
rename(Town = 'Localidad')%>%
rename(Ranch = 'Rancho, Lugar o Sitio')%>%
rename(Monitor1 = '13/02/2022 - Monitoreo 1')%>%
rename(Monitor2 = '20/01/2023 Monitoreo 2')%>%
rename(Monitor3 = '13/12/2023\nMonitoreo 3')%>%
rename(OriginReg = 'Procedencia semilla  (color)')%>%
rename(PlantedReg = 'Región')%>%
rename(DatePlanted = 'Fecha transplante')%>%
rename(YearCollected = 'Año de colecta')%>%
rename(Observations = 'Observaciones')%>%
rename(Contact = 'Contacto')%>%
rename(PlantedIn = 'Sembrado en:')%>%
rename(Watered = 'Lluvia solida')%>%
rename(Monitor4 = 'Monitoreo 1 (__/__/__)')%>%
rename(OriginLabelAsh = 'Procedencia Etiqueta Ash Abril 2024')%>%
mutate(Monitor1=recode(Monitor1, 'Perdida' = 'Muerta'))%>%#reclass Perdida (poor) as Muerta (dead)
#calculate when a seedling died based on the last Monitoring date it was seen alive
add_column(DateDied = NA)%>%
mutate(DateDied = case_when(Monitor1 == 'Muerta' ~ DatePlanted,
Monitor2 == 'Muerta' ~ '13/02/2022',
Monitor3 == 'Muerta' ~ '20/01/2022'))%>%
add_column(Outcome = NA)%>%
#format date as DayMonthYear
add_column(TimeAlive = NA)%>%
add_column(RatioTimeAlive = NA)%>%
add_column(PotentialTimeAlive = NA)%>%
mutate(DateDied = dmy(DateDied))%>%
mutate(DatePlanted = dmy(DatePlanted))%>%
mutate(RatioTimeAlive = dmy(RatioTimeAlive))%>%
mutate(PotentialTimeAlive = dmy(PotentialTimeAlive))%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta') ~ 'Dead',
Monitor3 == NA ~ 'Dead'))%>%
#calculate TimeAlive as difference between DatePlanted and DateDied
mutate(TimeAlive = DateDied - DatePlanted)%>%
mutate(PotentialTimeAlive = Today - DatePlanted)%>% #days since it was first planted
mutate(TimeAlive = case_when(Outcome == 'Alive' ~ (Today - DatePlanted),
TRUE ~ (DateDied - DatePlanted)))
#renames columns to simplified English, differentiates seed origin and seedling planted region
seedlings_clean <- seedlings_combined%>%
rename(Name = 'Nombre')%>%
rename(Town = 'Localidad')%>%
rename(Ranch = 'Rancho, Lugar o Sitio')%>%
rename(Monitor1 = '13/02/2022 - Monitoreo 1')%>%
rename(Monitor2 = '20/01/2023 Monitoreo 2')%>%
rename(Monitor3 = '13/12/2023\nMonitoreo 3')%>%
rename(OriginReg = 'Procedencia semilla  (color)')%>%
rename(PlantedReg = 'Región')%>%
rename(DatePlanted = 'Fecha transplante')%>%
rename(YearCollected = 'Año de colecta')%>%
rename(Observations = 'Observaciones')%>%
rename(Contact = 'Contacto')%>%
rename(PlantedIn = 'Sembrado en:')%>%
rename(Watered = 'Lluvia solida')%>%
rename(Monitor4 = 'Monitoreo 1 (__/__/__)')%>%
rename(OriginLabelAsh = 'Procedencia Etiqueta Ash Abril 2024')%>%
mutate(Monitor1=recode(Monitor1, 'Perdida' = 'Muerta'))%>%#reclass Perdida (poor) as Muerta (dead)
#calculate when a seedling died based on the last Monitoring date it was seen alive
add_column(DateDied = NA)%>%
mutate(DateDied = case_when(Monitor1 == 'Muerta' ~ DatePlanted,
Monitor2 == 'Muerta' ~ '13/02/2022',
Monitor3 == 'Muerta' ~ '20/01/2022'))%>%
add_column(Outcome = NA)%>%
#format date as DayMonthYear
add_column(TimeAlive = NA)%>%
add_column(RatioTimeAlive = NA)%>%
add_column(PotentialTimeAlive = NA)%>%
mutate(DateDied = dmy(DateDied))%>%
mutate(DatePlanted = dmy(DatePlanted))%>%
mutate(RatioTimeAlive = dmy(RatioTimeAlive))%>%
mutate(PotentialTimeAlive = dmy(PotentialTimeAlive))%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta') | (Monitor3 == NA) ~ 'Dead',
))%>%
#calculate TimeAlive as difference between DatePlanted and DateDied
mutate(TimeAlive = DateDied - DatePlanted)%>%
mutate(PotentialTimeAlive = Today - DatePlanted)%>% #days since it was first planted
mutate(TimeAlive = case_when(Outcome == 'Alive' ~ (Today - DatePlanted),
TRUE ~ (DateDied - DatePlanted)))
#renames columns to simplified English, differentiates seed origin and seedling planted region
seedlings_clean <- seedlings_combined%>%
rename(Name = 'Nombre')%>%
rename(Town = 'Localidad')%>%
rename(Ranch = 'Rancho, Lugar o Sitio')%>%
rename(Monitor1 = '13/02/2022 - Monitoreo 1')%>%
rename(Monitor2 = '20/01/2023 Monitoreo 2')%>%
rename(Monitor3 = '13/12/2023\nMonitoreo 3')%>%
rename(OriginReg = 'Procedencia semilla  (color)')%>%
rename(PlantedReg = 'Región')%>%
rename(DatePlanted = 'Fecha transplante')%>%
rename(YearCollected = 'Año de colecta')%>%
rename(Observations = 'Observaciones')%>%
rename(Contact = 'Contacto')%>%
rename(PlantedIn = 'Sembrado en:')%>%
rename(Watered = 'Lluvia solida')%>%
rename(Monitor4 = 'Monitoreo 1 (__/__/__)')%>%
rename(OriginLabelAsh = 'Procedencia Etiqueta Ash Abril 2024')%>%
mutate(Monitor1=recode(Monitor1, 'Perdida' = 'Muerta'))%>%#reclass Perdida (poor) as Muerta (dead)
#calculate when a seedling died based on the last Monitoring date it was seen alive
add_column(DateDied = NA)%>%
mutate(DateDied = case_when(Monitor1 == 'Muerta' ~ DatePlanted,
Monitor2 == 'Muerta' ~ '13/02/2022',
Monitor3 == 'Muerta' ~ '20/01/2022'))%>%
add_column(Outcome = NA)%>%
#format date as DayMonthYear
add_column(TimeAlive = NA)%>%
add_column(RatioTimeAlive = NA)%>%
add_column(PotentialTimeAlive = NA)%>%
mutate(DateDied = dmy(DateDied))%>%
mutate(DatePlanted = dmy(DatePlanted))%>%
mutate(RatioTimeAlive = dmy(RatioTimeAlive))%>%
mutate(PotentialTimeAlive = dmy(PotentialTimeAlive))%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta') | (Monitor3 == NA) ~ 'Dead'))%>%
#calculate TimeAlive as difference between DatePlanted and DateDied
mutate(TimeAlive = DateDied - DatePlanted)%>%
mutate(PotentialTimeAlive = Today - DatePlanted)%>% #days since it was first planted
mutate(TimeAlive = case_when(Outcome == 'Alive' ~ (Today - DatePlanted),
TRUE ~ (DateDied - DatePlanted)))
#renames columns to simplified English, differentiates seed origin and seedling planted region
seedlings_clean <- seedlings_combined%>%
rename(Name = 'Nombre')%>%
rename(Town = 'Localidad')%>%
rename(Ranch = 'Rancho, Lugar o Sitio')%>%
rename(Monitor1 = '13/02/2022 - Monitoreo 1')%>%
rename(Monitor2 = '20/01/2023 Monitoreo 2')%>%
rename(Monitor3 = '13/12/2023\nMonitoreo 3')%>%
rename(OriginReg = 'Procedencia semilla  (color)')%>%
rename(PlantedReg = 'Región')%>%
rename(DatePlanted = 'Fecha transplante')%>%
rename(YearCollected = 'Año de colecta')%>%
rename(Observations = 'Observaciones')%>%
rename(Contact = 'Contacto')%>%
rename(PlantedIn = 'Sembrado en:')%>%
rename(Watered = 'Lluvia solida')%>%
rename(Monitor4 = 'Monitoreo 1 (__/__/__)')%>%
rename(OriginLabelAsh = 'Procedencia Etiqueta Ash Abril 2024')%>%
mutate(Monitor1=recode(Monitor1, 'Perdida' = 'Muerta'))%>%#reclass Perdida (poor) as Muerta (dead)
#calculate when a seedling died based on the last Monitoring date it was seen alive
add_column(DateDied = NA)%>%
mutate(DateDied = case_when(Monitor1 == 'Muerta' ~ DatePlanted,
Monitor2 == 'Muerta' ~ '13/02/2022',
Monitor3 == 'Muerta' ~ '20/01/2022'))%>%
add_column(Outcome = NA)%>%
#format date as DayMonthYear
add_column(TimeAlive = NA)%>%
add_column(RatioTimeAlive = NA)%>%
add_column(PotentialTimeAlive = NA)%>%
mutate(DateDied = dmy(DateDied))%>%
mutate(DatePlanted = dmy(DatePlanted))%>%
mutate(RatioTimeAlive = dmy(RatioTimeAlive))%>%
mutate(PotentialTimeAlive = dmy(PotentialTimeAlive))%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta')))%>%
#calculate TimeAlive as difference between DatePlanted and DateDied
mutate(TimeAlive = DateDied - DatePlanted)%>%
mutate(PotentialTimeAlive = Today - DatePlanted)%>% #days since it was first planted
mutate(TimeAlive = case_when(Outcome == 'Alive' ~ (Today - DatePlanted),
TRUE ~ (DateDied - DatePlanted)))
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta'))%>%
#renames columns to simplified English, differentiates seed origin and seedling planted region
seedlings_clean <- seedlings_combined%>%
rename(Name = 'Nombre')%>%
rename(Town = 'Localidad')%>%
rename(Ranch = 'Rancho, Lugar o Sitio')%>%
rename(Monitor1 = '13/02/2022 - Monitoreo 1')%>%
rename(Monitor2 = '20/01/2023 Monitoreo 2')%>%
rename(Monitor3 = '13/12/2023\nMonitoreo 3')%>%
rename(OriginReg = 'Procedencia semilla  (color)')%>%
rename(PlantedReg = 'Región')%>%
rename(DatePlanted = 'Fecha transplante')%>%
rename(YearCollected = 'Año de colecta')%>%
rename(Observations = 'Observaciones')%>%
rename(Contact = 'Contacto')%>%
rename(PlantedIn = 'Sembrado en:')%>%
rename(Watered = 'Lluvia solida')%>%
rename(Monitor4 = 'Monitoreo 1 (__/__/__)')%>%
rename(OriginLabelAsh = 'Procedencia Etiqueta Ash Abril 2024')%>%
mutate(Monitor1=recode(Monitor1, 'Perdida' = 'Muerta'))%>%#reclass Perdida (poor) as Muerta (dead)
#calculate when a seedling died based on the last Monitoring date it was seen alive
add_column(DateDied = NA)%>%
mutate(DateDied = case_when(Monitor1 == 'Muerta' ~ DatePlanted,
Monitor2 == 'Muerta' ~ '13/02/2022',
Monitor3 == 'Muerta' ~ '20/01/2022'))%>%
add_column(Outcome = NA)%>%
#format date as DayMonthYear
add_column(TimeAlive = NA)%>%
add_column(RatioTimeAlive = NA)%>%
add_column(PotentialTimeAlive = NA)%>%
mutate(DateDied = dmy(DateDied))%>%
mutate(DatePlanted = dmy(DatePlanted))%>%
mutate(RatioTimeAlive = dmy(RatioTimeAlive))%>%
mutate(PotentialTimeAlive = dmy(PotentialTimeAlive))%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta')))%>%
#calculate TimeAlive as difference between DatePlanted and DateDied
mutate(TimeAlive = DateDied - DatePlanted)%>%
mutate(PotentialTimeAlive = Today - DatePlanted)%>% #days since it was first planted
mutate(TimeAlive = case_when(Outcome == 'Alive' ~ (Today - DatePlanted),
TRUE ~ (DateDied - DatePlanted)))
#renames columns to simplified English, differentiates seed origin and seedling planted region
seedlings_clean <- seedlings_combined%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta') ~ 'Dead')%>%
Monitor1 == 'Viva' | Monitor2 == 'Viva' | Monitor3 == 'Viva' ~ 'Alive')%>%
Monitor1 == 'Viva' & Monitor2 == 'Viva' & Monitor3 == 'Viva' ~ 'Alive')%>%
(Monitor1 == 'Viva') & (Monitor2 == 'Viva') & (Monitor3 == 'Viva') ~ 'Alive')%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta') ~ 'Dead')%>%
mutate(Outcome = case_when(Monitor1 == 'Muerta' | Monitor2 == 'Muerta' | Monitor3 == 'Muerta' | Monitor4 == 'Muerta' ~ 'Dead')%>%
TRUE ~ 'Alive')%>%
mutate(Outcome = case_when(Monitor1 == 'Muerta' | Monitor2 == 'Muerta' | Monitor3 == 'Muerta' | Monitor4 == 'Muerta' ~ 'Dead',
TRUE ~ 'Alive')%>%
FALSE ~ 'Alive')%>%
FALSE ~ 'Alive')%>%
mutate(Outcome = case_when(Monitor1 == 'Muerta' | Monitor2 == 'Muerta' | Monitor3 == 'Muerta' | Monitor4 == 'Muerta' ~ 'Dead',
FALSE ~ 'Alive')%>%
mutate(Outcome = case_when(Monitor1 == 'Muerta' | Monitor2 == 'Muerta' | Monitor3 == 'Muerta' | Monitor4 == 'Muerta' ~ 'Dead')%>%
TRUE ~ 'Alive')%>%
mutate(Outcome = case_when(Monitor1 == 'Muerta' | Monitor2 == 'Muerta' | Monitor3 == 'Muerta' | Monitor4 == 'Muerta' ~ 'Dead',
TRUE ~ 'Alive')%>%
#renames columns to simplified English, differentiates seed origin and seedling planted region
seedlings_clean <- seedlings_combined%>%
rename(Name = 'Nombre')%>%
rename(Town = 'Localidad')%>%
rename(Ranch = 'Rancho, Lugar o Sitio')%>%
rename(Monitor1 = '13/02/2022 - Monitoreo 1')%>%
rename(Monitor2 = '20/01/2023 Monitoreo 2')%>%
rename(Monitor3 = '13/12/2023\nMonitoreo 3')%>%
rename(OriginReg = 'Procedencia semilla  (color)')%>%
rename(PlantedReg = 'Región')%>%
rename(DatePlanted = 'Fecha transplante')%>%
rename(YearCollected = 'Año de colecta')%>%
rename(Observations = 'Observaciones')%>%
rename(Contact = 'Contacto')%>%
rename(PlantedIn = 'Sembrado en:')%>%
rename(Watered = 'Lluvia solida')%>%
rename(Monitor4 = 'Monitoreo 1 (__/__/__)')%>%
rename(OriginLabelAsh = 'Procedencia Etiqueta Ash Abril 2024')%>%
mutate(Monitor1=recode(Monitor1, 'Perdida' = 'Muerta'))%>%#reclass Perdida (poor) as Muerta (dead)
#calculate when a seedling died based on the last Monitoring date it was seen alive
add_column(DateDied = NA)%>%
mutate(DateDied = case_when(Monitor1 == 'Muerta' ~ DatePlanted,
Monitor2 == 'Muerta' ~ '13/02/2022',
Monitor3 == 'Muerta' ~ '20/01/2022'))%>%
add_column(Outcome = NA)%>%
#format date as DayMonthYear
add_column(TimeAlive = NA)%>%
add_column(RatioTimeAlive = NA)%>%
add_column(PotentialTimeAlive = NA)%>%
mutate(DateDied = dmy(DateDied))%>%
mutate(DatePlanted = dmy(DatePlanted))%>%
mutate(RatioTimeAlive = dmy(RatioTimeAlive))%>%
mutate(PotentialTimeAlive = dmy(PotentialTimeAlive))%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta') ~ 'Dead',
TRUE ~ 'Alive'))%>%
#calculate TimeAlive as difference between DatePlanted and DateDied
mutate(TimeAlive = DateDied - DatePlanted)%>%
mutate(PotentialTimeAlive = Today - DatePlanted)%>% #days since it was first planted
mutate(TimeAlive = case_when(Outcome == 'Alive' ~ (Today - DatePlanted),
TRUE ~ (DateDied - DatePlanted)))
View(seedlings_clean)
#renames columns to simplified English, differentiates seed origin and seedling planted region
seedlings_clean <- seedlings_combined%>%
rename(Name = 'Nombre')%>%
rename(Town = 'Localidad')%>%
rename(Ranch = 'Rancho, Lugar o Sitio')%>%
rename(Monitor1 = '13/02/2022 - Monitoreo 1')%>%
rename(Monitor2 = '20/01/2023 Monitoreo 2')%>%
rename(Monitor3 = '13/12/2023\nMonitoreo 3')%>%
rename(OriginReg = 'Procedencia semilla  (color)')%>%
rename(PlantedReg = 'Región')%>%
rename(DatePlanted = 'Fecha transplante')%>%
rename(YearCollected = 'Año de colecta')%>%
rename(Observations = 'Observaciones')%>%
rename(Contact = 'Contacto')%>%
rename(PlantedIn = 'Sembrado en:')%>%
rename(Watered = 'Lluvia solida')%>%
rename(Monitor4 = 'Monitoreo 1 (__/__/__)')%>%
rename(OriginLabelAsh = 'Procedencia Etiqueta Ash Abril 2024')%>%
mutate(Monitor1=recode(Monitor1, 'Perdida' = 'Muerta'))%>%#reclass Perdida (poor) as Muerta (dead)
#calculate when a seedling died based on the last Monitoring date it was seen alive
add_column(DateDied = NA)%>%
mutate(DateDied = case_when(Monitor1 == 'Muerta' ~ DatePlanted,
Monitor2 == 'Muerta' ~ '13/02/2022',
Monitor3 == 'Muerta' ~ '20/01/2022'))%>%
add_column(Outcome = NA)%>%
#format date as DayMonthYear
add_column(TimeAlive = NA)%>%
add_column(RatioTimeAlive = NA)%>%
add_column(PotentialTimeAlive = NA)%>%
mutate(DateDied = dmy(DateDied))%>%
mutate(DatePlanted = dmy(DatePlanted))%>%
mutate(RatioTimeAlive = dmy(RatioTimeAlive))%>%
mutate(PotentialTimeAlive = dmy(PotentialTimeAlive))%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta') ~ 'Dead',
TRUE ~ 'Alive'))%>%
#calculate TimeAlive as difference between DatePlanted and DateDied
mutate(TimeAlive = DateDied - DatePlanted)%>%
mutate(PotentialTimeAlive = Today - DatePlanted)%>% #days since it was first planted
mutate(TimeAlive = case_when(Outcome == 'Alive' ~ (Today - DatePlanted),
TRUE ~ (DateDied - DatePlanted)))
View(seedlings_alive)
View(seedlings_clean)
#renames columns to simplified English, differentiates seed origin and seedling planted region
seedlings_clean <- seedlings_combined%>%
rename(Name = 'Nombre')%>%
rename(Town = 'Localidad')%>%
rename(Ranch = 'Rancho, Lugar o Sitio')%>%
rename(Monitor1 = '13/02/2022 - Monitoreo 1')%>%
rename(Monitor2 = '20/01/2023 Monitoreo 2')%>%
rename(Monitor3 = '13/12/2023\nMonitoreo 3')%>%
rename(OriginReg = 'Procedencia semilla  (color)')%>%
rename(PlantedReg = 'Región')%>%
rename(DatePlanted = 'Fecha transplante')%>%
rename(YearCollected = 'Año de colecta')%>%
rename(Observations = 'Observaciones')%>%
rename(Contact = 'Contacto')%>%
rename(PlantedIn = 'Sembrado en:')%>%
rename(Watered = 'Lluvia solida')%>%
rename(Monitor4 = 'Monitoreo 1 (__/__/__)')%>%
rename(OriginLabelAsh = 'Procedencia Etiqueta Ash Abril 2024')%>%
mutate(Monitor1=recode(Monitor1, 'Perdida' = 'Muerta'))%>%#reclass Perdida (poor) as Muerta (dead)
#calculate when a seedling died based on the last Monitoring date it was seen alive
add_column(DateDied = NA)%>%
mutate(DateDied = case_when(Monitor1 == 'Muerta' ~ DatePlanted,
Monitor2 == 'Muerta' ~ '13/02/2022',
Monitor3 == 'Muerta' ~ '20/01/2022'))%>%
add_column(Outcome = NA)%>%
#format date as DayMonthYear
add_column(TimeAlive = NA)%>%
add_column(RatioTimeAlive = NA)%>%
add_column(PotentialTimeAlive = NA)%>%
mutate(DateDied = dmy(DateDied))%>%
mutate(DatePlanted = dmy(DatePlanted))%>%
mutate(RatioTimeAlive = dmy(RatioTimeAlive))%>%
mutate(PotentialTimeAlive = dmy(PotentialTimeAlive))%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta' | NA) | (Monitor4 == 'Muerta') ~ 'Dead',
TRUE ~ 'Alive'))%>%
#calculate TimeAlive as difference between DatePlanted and DateDied
mutate(TimeAlive = DateDied - DatePlanted)%>%
mutate(PotentialTimeAlive = Today - DatePlanted)%>% #days since it was first planted
mutate(TimeAlive = case_when(Outcome == 'Alive' ~ (Today - DatePlanted),
TRUE ~ (DateDied - DatePlanted)))
#renames columns to simplified English, differentiates seed origin and seedling planted region
seedlings_clean <- seedlings_combined%>%
rename(Name = 'Nombre')%>%
rename(Town = 'Localidad')%>%
rename(Ranch = 'Rancho, Lugar o Sitio')%>%
rename(Monitor1 = '13/02/2022 - Monitoreo 1')%>%
rename(Monitor2 = '20/01/2023 Monitoreo 2')%>%
rename(Monitor3 = '13/12/2023\nMonitoreo 3')%>%
rename(OriginReg = 'Procedencia semilla  (color)')%>%
rename(PlantedReg = 'Región')%>%
rename(DatePlanted = 'Fecha transplante')%>%
rename(YearCollected = 'Año de colecta')%>%
rename(Observations = 'Observaciones')%>%
rename(Contact = 'Contacto')%>%
rename(PlantedIn = 'Sembrado en:')%>%
rename(Watered = 'Lluvia solida')%>%
rename(Monitor4 = 'Monitoreo 1 (__/__/__)')%>%
rename(OriginLabelAsh = 'Procedencia Etiqueta Ash Abril 2024')%>%
mutate(Monitor1=recode(Monitor1, 'Perdida' = 'Muerta'))%>%#reclass Perdida (poor) as Muerta (dead)
#calculate when a seedling died based on the last Monitoring date it was seen alive
add_column(DateDied = NA)%>%
mutate(DateDied = case_when(Monitor1 == 'Muerta' ~ DatePlanted,
Monitor2 == 'Muerta' ~ '13/02/2022',
Monitor3 == 'Muerta' ~ '20/01/2022'))%>%
add_column(Outcome = NA)%>%
#format date as DayMonthYear
add_column(TimeAlive = NA)%>%
add_column(RatioTimeAlive = NA)%>%
add_column(PotentialTimeAlive = NA)%>%
mutate(DateDied = dmy(DateDied))%>%
mutate(DatePlanted = dmy(DatePlanted))%>%
mutate(RatioTimeAlive = dmy(RatioTimeAlive))%>%
mutate(PotentialTimeAlive = dmy(PotentialTimeAlive))%>%
mutate(Outcome = case_when((Monitor1 == 'Muerta') | (Monitor2 == 'Muerta') | (Monitor3 == 'Muerta') | (Monitor4 == 'Muerta') ~ 'Dead',
TRUE ~ 'Alive'))%>%
#calculate TimeAlive as difference between DatePlanted and DateDied
mutate(TimeAlive = DateDied - DatePlanted)%>%
mutate(PotentialTimeAlive = Today - DatePlanted)%>% #days since it was first planted
mutate(TimeAlive = case_when(Outcome == 'Alive' ~ (Today - DatePlanted),
TRUE ~ (DateDied - DatePlanted)))
#total mortality of seedlings
seedlings_clean%>%
ggplot() +
geom_bar(aes(x = Outcome, fill = Outcome)) +
geom_text(aes(x = Outcome, y = Count)) +
theme_classic()
#total mortality of seedlings
seedlings_clean%>%
ggplot() +
geom_bar(aes(x = Outcome, fill = Outcome)) +
geom_text(aes(x = Outcome, y = apply_stat(Count))) +
theme_classic()
#total mortality of seedlings
seedlings_clean%>%
ggplot() +
geom_bar(aes(x = Outcome, fill = Outcome)) +
geom_text(aes(x = Outcome, y = apply_stat(count))) +
theme_classic()
